enum ActionKind {
    Walking,
    Idle,
    Jumping
}
namespace SpriteKind {
    export const WallUpdateTrigger = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (resquest) {
        game.reset()
    } else {
        if (active_player_sprite == Lemon) {
            if (Lemon.vy == 0) {
                Lemon.vy = -240
                animation.runImageAnimation(
                Lemon,
                [img`
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . 1 1 1 5 5 5 5 1 1 1 . . . 
                    . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
                    . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
                    . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
                    . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
                    . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
                    . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
                    . 1 1 1 1 4 1 1 1 1 4 1 1 1 1 . 
                    . . . 1 1 2 4 4 4 4 2 1 1 . . . 
                    . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
                    . . 5 4 1 f 4 4 4 4 f 5 4 5 . . 
                    . . 5 5 1 f 4 1 1 1 f 4 5 5 . . 
                    . . . . 1 1 4 4 4 4 1 5 . . . . 
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . . . 1 1 . . 1 1 . . . . . 
                    `,img`
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . 1 1 1 5 5 5 5 1 1 1 . . . 
                    . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
                    . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
                    . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
                    . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
                    . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
                    . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
                    . . . 1 1 2 4 4 4 4 2 1 1 . . . 
                    . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
                    . . 5 4 1 f 4 4 4 4 f 5 4 5 . . 
                    . . 5 5 1 f 4 1 1 1 f 4 5 5 . . 
                    . . . . 1 1 4 4 4 4 1 5 . . . . 
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . . . 1 1 . . 1 1 . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . 1 1 1 5 5 5 5 1 1 1 . . . 
                    . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
                    . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
                    . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
                    . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
                    . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
                    . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
                    . . . 1 1 2 4 4 4 4 2 1 1 . . . 
                    . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
                    . . 5 4 1 f 4 4 4 4 f 5 4 5 . . 
                    . . 5 5 1 f 4 1 1 1 f 4 5 5 . . 
                    . . . . 1 1 4 4 4 4 1 5 . . . . 
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . . . 1 1 . . 1 1 . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . 1 1 1 5 5 5 5 1 1 1 . . . 
                    . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
                    . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
                    . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
                    . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
                    . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
                    . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
                    . . . 1 1 2 4 4 4 4 2 1 1 . . . 
                    . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
                    . . 5 4 1 f 4 4 4 4 f 5 4 5 . . 
                    . . 5 5 1 f 4 1 1 1 f 4 5 5 . . 
                    . . . . 1 1 4 4 4 4 1 5 . . . . 
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . . . 1 1 . . 1 1 . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . 1 1 1 5 5 5 5 1 1 1 . . . 
                    . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
                    . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
                    . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
                    . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
                    . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
                    . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
                    . 1 1 1 1 4 1 1 1 1 4 1 1 1 1 . 
                    . . . 1 1 2 4 4 4 4 2 1 1 . . . 
                    . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
                    . . 5 4 1 f 4 4 4 4 f 5 4 5 . . 
                    . . 5 5 1 f 4 1 1 1 f 4 5 5 . . 
                    . . . . 1 1 4 4 4 4 1 5 . . . . 
                    . . . . . 1 1 1 1 1 1 . . . . . 
                    . . . . . 1 1 . . 1 1 . . . . . 
                    `],
                100,
                false
                )
            }
        } else if (active_player_sprite == Tea) {
            if (Tea.vy == 0) {
                Tea.vy = -240
                animation.runImageAnimation(
                Tea,
                [img`
                    . . . . . . a a a a . . . . . . 
                    . . . . a a a e e a a a . . . . 
                    . . . . a e e 8 8 e e a . . . . 
                    . . . a e e a 8 8 a e e a . . . 
                    . . a e e c a 9 9 a c e e a . . 
                    . a a e c c f 8 8 f c c e a a . 
                    . a e e c b f 9 9 f b c e e a . 
                    . . a e e 9 6 a a 6 9 e e a . . 
                    . . a a a 9 a 6 6 a 9 a a a . . 
                    . . . 8 a 9 a 6 6 a 9 a 8 . . . 
                    . . a c 8 9 6 a a 6 9 8 c a . . 
                    . . c d 8 8 b 9 9 b 8 8 d c . . 
                    . . c c 8 b 8 9 9 8 b 8 c c . . 
                    . . . . 9 c c c c c c 9 . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . c c . . c c . . . . . 
                    `,img`
                    . . . . . . a a a a . . . . . . 
                    . . . . a a a e e a a a . . . . 
                    . . . . a e e 8 8 e e a . . . . 
                    . . . a e e a 8 8 a e e a . . . 
                    . . a e e c a 9 9 a c e e a . . 
                    . a a e c c f 8 8 f c c e a a . 
                    . a e e c b f 9 9 f b c e e a . 
                    . . a e e 9 6 a a 6 9 e e a . . 
                    . . a a a 9 a 6 6 a 9 a a a . . 
                    . . a c 8 9 6 a a 6 9 8 c a . . 
                    . . c d 8 8 b 9 9 b 8 8 d c . . 
                    . . c c 8 b 8 9 9 8 b 8 c c . . 
                    . . . . 9 c c c c c c 9 . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . . a a a a . . . . . . 
                    . . . . a a a e e a a a . . . . 
                    . . . . a e e 8 8 e e a . . . . 
                    . . . a e e a 8 8 a e e a . . . 
                    . . a e e c a 9 9 a c e e a . . 
                    . a a e c c f 8 8 f c c e a a . 
                    . a e e c b f 9 9 f b c e e a . 
                    . . a e e 9 6 a a 6 9 e e a . . 
                    . . a a a 9 a 6 6 a 9 a a a . . 
                    . . a c 8 9 6 a a 6 9 8 c a . . 
                    . . c d 8 8 b 9 9 b 8 8 d c . . 
                    . . c c 8 b 8 9 9 8 b 8 c c . . 
                    . . . . 9 c c c c c c 9 . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . . a a a a . . . . . . 
                    . . . . a a a e e a a a . . . . 
                    . . . . a e e 8 8 e e a . . . . 
                    . . . a e e a 8 8 a e e a . . . 
                    . . a e e c a 9 9 a c e e a . . 
                    . a a e c c f 8 8 f c c e a a . 
                    . a e e c b f 9 9 f b c e e a . 
                    . . a e e 9 6 a a 6 9 e e a . . 
                    . . a a a 9 a 6 6 a 9 a a a . . 
                    . . a c 8 9 6 a a 6 9 8 c a . . 
                    . . c d 8 8 b 9 9 b 8 8 d c . . 
                    . . c c 8 b 8 9 9 8 b 8 c c . . 
                    . . . . 9 c c c c c c 9 . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `,img`
                    . . . . . . a a a a . . . . . . 
                    . . . . a a a e e a a a . . . . 
                    . . . . a e e 8 8 e e a . . . . 
                    . . . a e e a 8 8 a e e a . . . 
                    . . a e e c a 9 9 a c e e a . . 
                    . a a e c c f 8 8 f c c e a a . 
                    . a e e c b f 9 9 f b c e e a . 
                    . . a e e 9 6 a a 6 9 e e a . . 
                    . . a a a 9 a 6 6 a 9 a a a . . 
                    . . . 8 a 9 a 6 6 a 9 a 8 . . . 
                    . . a c 8 9 6 a a 6 9 8 c a . . 
                    . . c d 8 8 b 9 9 b 8 8 d c . . 
                    . . c c 8 b 8 9 9 8 b 8 c c . . 
                    . . . . 9 c c c c c c 9 . . . . 
                    . . . . . c c . . c c . . . . . 
                    . . . . . c c . . c c . . . . . 
                    `],
                100,
                false
                )
            }
        }
    }
})
sprites.onDestroyed(SpriteKind.WallUpdateTrigger, function (sprite) {
    scheduleWallUpdate()
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    setActivePlayer((active_player_index + 1) % 2)
})
function showScore () {
    press_text = "presses"
    if (button_presses == 1) {
        press_text = "press"
    }
    game.splash("Level " + (current_level + 1), "" + button_presses + " " + press_text)
}
function Start () {
    resquest = false
    current_level = 0
    levels = [
    tiles.createMap(tilemap`level2`),
    tiles.createMap(tilemap`level3`),
    tiles.createMap(tilemap`level4`),
    tiles.createMap(tilemap`level5`),
    tiles.createMap(tilemap`level6`),
    tiles.createMap(tilemap`level7`)
    ]
    info.startCountdown(80)
    info.setLife(3)
    initLevel(false)
    initPlayers()
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (resquest) {
        game.reset()
    } else {
        if (active_player_sprite == Lemon) {
            animation.runImageAnimation(
            Lemon,
            [img`
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . 1 5 5 5 5 1 1 1 . . . . 
                . . . 1 5 5 5 5 5 5 1 1 1 . . . 
                . . 1 5 5 5 2 4 5 5 5 1 1 1 . . 
                . . 1 5 5 1 5 5 4 5 5 5 1 1 . . 
                . . 1 5 4 4 1 1 4 4 5 5 1 1 . . 
                . . 1 1 5 1 d f 4 1 4 5 1 1 . . 
                . . . 1 1 1 d f 5 1 1 1 1 1 . . 
                . . . . 1 1 1 4 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 . . . . 
                . . . . . . 1 2 2 1 5 4 . . . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . 4 4 5 2 1 4 5 5 1 4 2 2 . . 
                . . . . 5 . 1 4 5 5 4 4 . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                `,img`
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . 1 5 5 5 5 1 1 1 . . . . 
                . . . 1 5 5 5 5 5 5 1 1 1 . . . 
                . . 1 5 5 5 2 4 5 5 5 1 1 1 . . 
                . . 1 5 5 1 5 5 4 5 5 5 1 1 . . 
                . . 1 5 4 4 1 1 4 4 5 5 1 1 . . 
                . . 1 1 5 1 d f 4 1 4 5 1 1 . . 
                . . . 1 1 1 d f 5 1 1 1 1 1 . . 
                . . . . 1 1 1 4 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 . . . . 
                . . . . . . 1 2 2 1 5 4 . . . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . 4 4 5 2 1 4 5 5 1 4 2 2 . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . . 1 1 . . 1 1 . . . . . 
                `,img`
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . 1 5 5 5 5 1 1 1 . . . . 
                . . . 1 5 5 5 5 5 5 1 1 1 . . . 
                . . 1 5 5 5 2 4 5 5 5 1 1 1 . . 
                . . 1 5 5 1 5 5 4 5 5 5 1 1 . . 
                . . 1 5 4 4 1 1 4 4 5 5 1 1 . . 
                . . 1 1 5 1 d f 4 1 4 5 1 1 . . 
                . . . 1 1 1 d f 5 1 1 1 1 1 . . 
                . . . . 1 1 1 4 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 . . . . 
                . . . . . . 1 2 2 1 5 4 . . . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . 4 4 5 2 1 4 5 5 1 4 2 2 . . 
                . . . . 5 . 1 4 5 5 4 4 . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                . . . . . . . 1 1 1 . . . . . . 
                `,img`
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . 1 5 5 5 5 1 1 1 . . . . 
                . . . 1 5 5 5 5 5 5 1 1 1 . . . 
                . . 1 5 5 5 2 4 5 5 5 1 1 1 . . 
                . . 1 5 5 1 5 5 4 5 5 5 1 1 . . 
                . . 1 5 4 4 1 1 4 4 5 5 1 1 . . 
                . . 1 1 5 1 d f 4 1 4 5 1 1 . . 
                . . . 1 1 1 d f 5 1 1 1 1 1 . . 
                . . . . 1 1 1 4 1 1 1 1 1 . . . 
                . . . . . 1 1 1 1 1 1 1 . . . . 
                . . . . . . 1 2 2 1 5 4 . . . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . 4 4 5 2 1 4 5 5 1 4 2 2 . . 
                . . . . 5 . 1 4 5 5 1 4 . . . . 
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . . 1 1 . 1 1 1 . . . . . 
                `],
            200,
            false
            )
        } else if (active_player_sprite == Tea) {
            animation.runImageAnimation(
            Tea,
            [img`
                . . . . . a a a a a . . . . . . 
                . . . . a a a a a a a . . . . . 
                . . . a 8 e e e e e a a . . . . 
                . . . a 8 e a e e e e a a . . . 
                . . . a 9 b c e e e e e a a . . 
                . . . a 8 f c e e a a a e a . . 
                . . . a 9 f b e e e a a e a . . 
                . . . a a 6 9 e a e a a a a . . 
                . . . . a a 9 e c b b a a . . . 
                . . . . a 6 9 c e b a a . . . . 
                . . . . . 8 a a b a a . . . . . 
                . . . . . 8 c c b b 6 . . . . . 
                . . . . . 8 c c e b 6 . . . . . 
                . . . . 9 9 9 9 9 9 . . . . . . 
                . . . . . . c c . . . . . . . . 
                . . . . . . c c . . . . . . . . 
                `,img`
                . . . . . a a a a a . . . . . . 
                . . . . a a a a a a a . . . . . 
                . . . a 8 e e e e e a a . . . . 
                . . . a 8 e a e e e e a a . . . 
                . . . a 9 b c e e e e e a a . . 
                . . . a 8 f c e e a a a e a . . 
                . . . a 9 f b e e e a a e a . . 
                . . . a a 6 9 e a e a a a a . . 
                . . . . a a 9 e c b b a a . . . 
                . . . . a 6 9 c e b a a . . . . 
                . . . . . 8 a a b a a . . . . . 
                . . . . . 8 c c b b 6 . . . . . 
                . . . . . 8 c c e b 6 . . . . . 
                . . . . 9 9 9 9 9 9 . . . . . . 
                . . . . . c c c c . . . . . . . 
                . . . . c c . c c . . . . . . . 
                `,img`
                . . . . . a a a a a . . . . . . 
                . . . . a a a a a a a . . . . . 
                . . . a 8 e e e e e a a . . . . 
                . . . a 8 e a e e e e a a . . . 
                . . . a 9 b c e e e e e a a . . 
                . . . a 8 f c e e a a a e a . . 
                . . . a 9 f b e e e a a e a . . 
                . . . a a 6 9 e a e a a a a . . 
                . . . . a a 9 e c b b a a . . . 
                . . . . a 6 9 c e b a a . . . . 
                . . . . . 8 a a b a a . . . . . 
                . . . . . 8 c c b b 6 . . . . . 
                . . . . . 8 c c e b 6 . . . . . 
                . . . . 9 9 9 9 9 9 . . . . . . 
                . . . . . . c c . . . . . . . . 
                . . . . . . c c . . . . . . . . 
                `,img`
                . . . . . a a a a a . . . . . . 
                . . . . a a a a a a a . . . . . 
                . . . a 8 e e e e e a a . . . . 
                . . . a 8 e a e e e e a a . . . 
                . . . a 9 b c e e e e e a a . . 
                . . . a 8 f c e e a a a e a . . 
                . . . a 9 f b e e e a a e a . . 
                . . . a a 6 9 e a e a a a a . . 
                . . . . a a 9 e c b b a a . . . 
                . . . . a 6 9 c e b a a . . . . 
                . . . . . 8 a a b a a . . . . . 
                . . . . . 8 c c b b 6 . . . . . 
                . . . . . 8 c c e b 6 . . . . . 
                . . . . 9 9 9 9 9 9 . . . . . . 
                . . . . . c c c c . . . . . . . 
                . . . . c c . c c . . . . . . . 
                `],
            200,
            false
            )
        }
    }
})
function updateWalls (height: number, isWall: boolean) {
    for (let wall_location of orange_wall_locations) {
        location = tiles.getTileLocation(tiles.locationXY(wall_location, tiles.XY.column), tiles.locationXY(wall_location, tiles.XY.row) - height)
        if (isWall) {
            tiles.setTileAt(location, assets.tile`tile7`)
            tiles.setWallAt(location, true)
        } else {
            tiles.setTileAt(location, assets.tile`tile0`)
            tiles.setWallAt(location, false)
        }
    }
    for (let reverse_wall_location of orange_reverse_wall_locations) {
        location = tiles.getTileLocation(tiles.locationXY(reverse_wall_location, tiles.XY.column), tiles.locationXY(reverse_wall_location, tiles.XY.row) - (4 - height))
        if (isWall) {
            tiles.setTileAt(location, assets.tile`tile0`)
            tiles.setWallAt(location, false)
        } else {
            tiles.setTileAt(location, assets.tile`tile9`)
            tiles.setWallAt(location, true)
        }
    }
    for (let player_sprite of sprites.allOfKind(SpriteKind.Player)) {
        while (player_sprite.tileKindAt(TileDirection.Center, assets.tile`tile7`) || player_sprite.tileKindAt(TileDirection.Center, assets.tile`tile9`)) {
            player_sprite.y += 0 - tiles.tileWidth()
        }
    }
}
function setActivePlayer (playerId: number) {
    controller.moveSprite(Tea, 0, 0)
    controller.moveSprite(Lemon, 0, 0)
    active_player_index = playerId
    if (active_player_index == 0) {
        active_player_sprite = Tea
    } else {
        active_player_sprite = Lemon
    }
    controller.moveSprite(active_player_sprite, 80, 0)
    scene.cameraFollowSprite(active_player_sprite)
}
function initPlayer (playerSprite: Sprite) {
    controller.moveSprite(playerSprite, 0, 0)
    playerSprite.ay = 800
}
function HowToPlay () {
    game.splash("Instructions")
    scene.setBackgroundColor(2)
    game.splash("Warning!", "Warning!")
    scene.setBackgroundColor(15)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ....................................2......................2....................................................................................................
        .....................................2....................2..............................................2......................2...............................
        ......................................2..................2................................................2....................2................................
        .......................................2................2..................................................2..................2.................................
        ........................................2..............2....................................................2................2..................................
        .........................................2............2......................................................2..............2...................................
        ..........................................2..........2........................................................2............2....................................
        ...........................................2........2..........................................................2..........2.....................................
        ............................................2......2............................................................2........2......................................
        .............................................2....2..............................................................2......2.......................................
        ..............................................2..2................................................................2....2........................................
        ...............................................22..................................................................2..2.........................................
        ..............................................2..2..................................................................22..........................................
        .............................................2....2................................................................2..2.........................................
        ............................................2......2..............................................................2....2........................................
        ...........................................2........2............................................................2......2.......................................
        ..........................................2..........2..........................................................2........2......................................
        .........................................2............2........................................................2..........2.....................................
        ........................................2..............2......................................................2............2....................................
        .......................................2................2....................................................2..............2...................................
        ......................................2..................2..................................................2................2..................................
        .....................................2....................2................................................2..................2.................................
        ....................................2......................2..............................................2....................2................................
        .........................................................................................................2......................2...............................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    game.showLongText("Do not press anything until you see this\\nOr else the game will restart", DialogLayout.Top)
    scene.setBackgroundColor(15)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    game.splash("First")
    for (let index = 0; index < 2; index++) {
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            .........................................7777777................................................................................................................
            ........................................7.......7...............................................................................................................
            .......................................7.........7..............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            ......................................7...........7.............................................................................................................
            .......................................7.........7..............................................................................................................
            ........................................7.......7...............................................................................................................
            .........................................7777777................................................................................................................
            ............................................7...................................................................................................................
            ...........................................777..................................................................................................................
            ...........................................777..................................................................................................................
            ..........................................77777.................................................................................................................
            ..........................................7.7.7.................................................................................................................
            .........................................7..7..7................................................................................................................
            ........................................77..7..77...............................................................................................................
            .......................................77...7...77..............................................................................................................
            .......................................7....7....7..............................................................................................................
            ............................................7...................................................................................................................
            ............................................7...................................................................................................................
            ...........................................77...................................................................................................................
            ..........................................7777..................................................................................................................
            .........................................77.777.................................................................................................................
            ........................................77....77................................................................................................................
            ........................................7......77...............444444444444444444444..............aaa444aaa444.................................................
            .......................................7........7...............444444444444444444444..............aaa444aaa444.................................................
            .......................................7........7...............444444444444444444444..............aaa444aaa444.................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................2......................2....................................................................................................
            .....................................2....................2..............................................2......................2...............................
            ......................................2..................2................................................2....................2................................
            .......................................2................2..................................................2..................2.................................
            ........................................2..............2....................................................2................2..................................
            .........................................2............2......................................................2..............2...................................
            ..........................................2..........2........................................................2............2....................................
            ...........................................2........2..........................................................2..........2.....................................
            ............................................2......2............................................................2........2......................................
            .............................................2....2..............................................................2......2.......................................
            ..............................................2..2................................................................2....2........................................
            ...............................................22..................................................................2..2.........................................
            ..............................................2..2..................................................................22..........................................
            .............................................2....2................................................................2..2.........................................
            ............................................2......2..............................................................2....2........................................
            ...........................................2........2............................................................2......2.......................................
            ..........................................2..........2..........................................................2........2......................................
            .........................................2............2........................................................2..........2.....................................
            ........................................2..............2......................................................2............2....................................
            .......................................2................2....................................................2..............2...................................
            ......................................2..................2..................................................2................2..................................
            .....................................2....................2................................................2..................2.................................
            ....................................2......................2..............................................2....................2................................
            .........................................................................................................2......................2...............................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        pause(750)
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.................................................
            ...................................................................................................aaa444aaa444.............111.................................
            ...................................................................................................aaa444aaa444............1.1.1................................
            ...................................................................................................aaa444aaa444............1.1.1................................
            ...................................................................................................aaa444aaa444...........1..1..1...............................
            .........................................7777777........................7777777....................aaa444aaa444..........1...1...1..............................
            ........................................7.......7......................7.......7...................aaa444aaa444.........1....1...1..............................
            .......................................7.........7....................7.........7..................aaa444aaa444........1.....1....1.............................
            ......................................7...........7..................7...........7.................aaa444aaa444........1.....1.....1............................
            ......................................7...........7..................7...........7.................aaa444aaa444.......1......1.....1............................
            ......................................7...........7..................7...........7.................aaa444aaa444......1.......1......1...........................
            ......................................7...........7..................7...........7.................aaa444aaa444.....1........1.......1..........................
            ......................................7...........7..................7...........7.................aaa444aaa444..............1..................................
            ......................................7...........7..................7...........7.................aaa444aaa444..............1..................................
            ......................................7...........7..................7...........7.................aaa444aaa444..............1..................................
            .......................................7.........7.....7..............7.........7..................aaa444aaa444..............1..................................
            ........................................7.......7.......7..............7.......7...................aaa444aaa444..............1..................................
            .........................................7777777.........7..............7777777....................aaa444aaa444..............1..................................
            ............................................7.............77...............7.......................aaa444aaa444..............1..................................
            ...........................................777..............7.............777......................aaa444aaa444..............1..................................
            ...........................................777...............7............777......................aaa444aaa444..............1..................................
            ..........................................77777.....777777777.7..........77777.....................aaa444aaa444..............1..................................
            ..........................................7.7.7..............7...........7.7.7.....................aaa444aaa444..............1..................................
            .........................................7..7..7............7...........7..7..7....................aaa444aaa444..............1..................................
            ........................................77..7..77..........7...........77..7..77...................aaa444aaa444..............1..................................
            .......................................77...7...77.......77...........77...7...77..................aaa444aaa444..............1..................................
            .......................................7....7....7......7.............7....7....7..................aaa444aaa444..............1..................................
            ............................................7..........7...................7.......................aaa444aaa444..............1..................................
            ............................................7..............................7.......................aaa444aaa444..............1..................................
            ...........................................77.............................77.......................aaa444aaa444..............1..................................
            ..........................................7777...........................7777......................aaa444aaa444..............1..................................
            .........................................77.777.........................77.777.....................aaa444aaa444..............1..................................
            ........................................77....77.......................77....77....................aaa444aaa444..............1..................................
            ........................................7......77...............444444474444447744444..............aaa444aaa444..............1..................................
            .......................................7........7...............444444744444444744444..............aaa444aaa444.................................................
            .......................................7........7...............444444744444444744444..............aaa444aaa444.................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................2......................2....................................................................................................
            .....................................2....................2..............................................2......................2...............................
            ......................................2..................2................................................2....................2................................
            .......................................2................2..................................................2..................2.................................
            ........................................2..............2....................................................2................2..................................
            .........................................2............2......................................................2..............2...................................
            ..........................................2..........2........................................................2............2....................................
            ...........................................2........2..........................................................2..........2.....................................
            ............................................2......2............................................................2........2......................................
            .............................................2....2..............................................................2......2.......................................
            ..............................................2..2................................................................2....2........................................
            ...............................................22..................................................................2..2.........................................
            ..............................................2..2..................................................................22..........................................
            .............................................2....2................................................................2..2.........................................
            ............................................2......2..............................................................2....2........................................
            ...........................................2........2............................................................2......2.......................................
            ..........................................2..........2..........................................................2........2......................................
            .........................................2............2........................................................2..........2.....................................
            ........................................2..............2......................................................2............2....................................
            .......................................2................2....................................................2..............2...................................
            ......................................2..................2..................................................2................2..................................
            .....................................2....................2................................................2..................2.................................
            ....................................2......................2..............................................2....................2................................
            .........................................................................................................2......................2...............................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        pause(750)
    }
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    game.splash("Second")
    for (let index = 0; index < 2; index++) {
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................5555555555555555555555555555555..........................7777777..................9999999...................................
            ....................................5555555555555555555555555555555.........................7.......7................9.......9..................................
            ....................................5555555555555555555555555555555........................7.........7..............9.........9.................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555.......................7...........7............9...........9................................
            ....................................5555555555555555555555555555555........................7.........7..............9.........9.................................
            ....................................5555555555555555555555555555555.........................7.......7................9.......9..................................
            ....................................5555555555555555555555555555555..........................7777777..................9999999...................................
            ....................................5555555555555555555555555555555.............................7........................9......................................
            ....................................5555555555555555555555555555555............................777......................999.....................................
            ....................................5555555555555555555555555555555............................777......................999.....................................
            ....................................5555555555555555555555555555555...........................77777....................99999....................................
            ....................................5555555555555555555555555555555...........................7.7.7....................9.9.9....................................
            ....................................5555555555555555555555555555555..........................7..7..7..................9..9..9...................................
            ....................................5555555555555555555555555555555.........................77..7..77................99..9..99..................................
            ....................................5555555555555555555555555555555........................77...7...77..............99...9...99.................................
            ....................................5555555555555555555555555555555........................7....7....7..............9....9....9.................................
            ....................................5555555555555555555555555555555.............................7........................9......................................
            ....................................5555555555555555555555555555555.............................7........................9......................................
            ....................................5555555555555555555555555555555............................77.......................99......................................
            ....................................5555555555555555555555555555555...........................7777.....................9999.....................................
            ....................................5555555555555555555555555555555..........................77.777...................99.999....................................
            ....................................5555555555555555555555555555555.........................77....77.................99....99...................................
            ....................................5555555555555555555555555555555.........................7......77................9......99..................................
            ....................................5555555555555555555555555555555........................7........7...............9........9..................................
            ....................................5555555555555555555555555555555........................7........7...............9........9..................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................2......................2....................................................................................................
            .....................................2....................2..............................................2......................2...............................
            ......................................2..................2................................................2....................2................................
            .......................................2................2..................................................2..................2.................................
            ........................................2..............2....................................................2................2..................................
            .........................................2............2......................................................2..............2...................................
            ..........................................2..........2........................................................2............2....................................
            ...........................................2........2..........................................................2..........2.....................................
            ............................................2......2............................................................2........2......................................
            .............................................2....2..............................................................2......2.......................................
            ..............................................2..2................................................................2....2........................................
            ...............................................22..................................................................2..2.........................................
            ..............................................2..2..................................................................22..........................................
            .............................................2....2................................................................2..2.........................................
            ............................................2......2..............................................................2....2........................................
            ...........................................2........2............................................................2......2.......................................
            ..........................................2..........2..........................................................2........2......................................
            .........................................2............2........................................................2..........2.....................................
            ........................................2..............2......................................................2............2....................................
            .......................................2................2....................................................2..............2...................................
            ......................................2..................2..................................................2................2..................................
            .....................................2....................2................................................2..................2.................................
            ....................................2......................2..............................................2....................2................................
            .........................................................................................................2......................2...............................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        pause(750)
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            .............................................................................1..................................................................................
            ...........................................................................11...................................................................................
            ..........................................................................1.....................................................................................
            ........................................................................11......................................................................................
            .......................................................................111111111111111111111111.................................................................
            ........................................................................11......................................................................................
            ..........................................................................1.....................................................................................
            ...........................................................................11...................................................................................
            .............................................................................1..................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................5555555555557777779999999555555..........................7777777..................9999999...................................
            ....................................5555555555575555595755555955555.........................7.......7................9.......9..................................
            ....................................5555555555755555955575555595555........................7.........7..............9.........9.................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555557555559555557555559555.......................7...........7............9...........9................................
            ....................................5555555555755555955575555595555........................7.........7..............9.........9.................................
            ....................................5555555555575555595755555955555.........................7.......7................9.......9..................................
            ....................................5555555555557777779999999555555..........................7777777..................9999999...................................
            ....................................5555555555555557555559555555555.............................7........................9......................................
            ....................................5555555555555577755599955555555............................777......................999.....................................
            ....................................5555555555555577755599955555555............................777......................999.....................................
            ....................................5555555555555777775999995555555...........................77777....................99999....................................
            ....................................5555555555555757575959595555555...........................7.7.7....................9.9.9....................................
            ....................................5555555555557557559559559555555..........................7..7..7..................9..9..9...................................
            ....................................5555555555577557599759559955555.........................77..7..77................99..9..99..................................
            ....................................5555555555775557995779555995555........................77...7...77..............99...9...99.................................
            ....................................5555555555755557955579555595555........................7....7....7..............9....9....9.................................
            ....................................5555555555555557555559555555555.............................7........................9......................................
            ....................................5555555555555557555559555555555.............................7........................9......................................
            ....................................5555555555555577555599555555555............................77.......................99......................................
            ....................................5555555555555777755999955555555...........................7777.....................9999.....................................
            ....................................5555555555557757779959995555555..........................77.777...................99.999....................................
            ....................................5555555555577555599555599555555.........................77....77.................99....99...................................
            ....................................5555555555575555597755559955555.........................7......77................9......99..................................
            ....................................5555555555755555955755555955555........................7........7...............9........9..................................
            ....................................5555555555755555955755555955555........................7........7...............9........9..................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ....................................2......................2....................................................................................................
            .....................................2....................2..............................................2......................2...............................
            ......................................2..................2................................................2....................2................................
            .......................................2................2..................................................2..................2.................................
            ........................................2..............2....................................................2................2..................................
            .........................................2............2......................................................2..............2...................................
            ..........................................2..........2........................................................2............2....................................
            ...........................................2........2..........................................................2..........2.....................................
            ............................................2......2............................................................2........2......................................
            .............................................2....2..............................................................2......2.......................................
            ..............................................2..2................................................................2....2........................................
            ...............................................22..................................................................2..2.........................................
            ..............................................2..2..................................................................22..........................................
            .............................................2....2................................................................2..2.........................................
            ............................................2......2..............................................................2....2........................................
            ...........................................2........2............................................................2......2.......................................
            ..........................................2..........2..........................................................2........2......................................
            .........................................2............2........................................................2..........2.....................................
            ........................................2..............2......................................................2............2....................................
            .......................................2................2....................................................2..............2...................................
            ......................................2..................2..................................................2................2..................................
            .....................................2....................2................................................2..................2.................................
            ....................................2......................2..............................................2....................2................................
            .........................................................................................................2......................2...............................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        pause(750)
    }
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    game.splash("Ready?")
    game.splash("Let's get started!")
    Now()
}
info.onCountdownEnd(function () {
    game.gameOver(false)
})
function scheduleWallUpdate () {
    if (sprites.allOfKind(SpriteKind.WallUpdateTrigger).length == 0) {
        if (orange_pressed && orange_wall_extension_height > 0) {
            updateWalls(orange_wall_extension_height, false)
            orange_wall_extension_height += -1
            trigger = sprites.create(image.create(0, 0), SpriteKind.WallUpdateTrigger)
            trigger.lifespan = 100
        } else if (!(orange_pressed) && orange_wall_extension_height < 3) {
            orange_wall_extension_height += 1
            updateWalls(orange_wall_extension_height, true)
            trigger = sprites.create(image.create(0, 0), SpriteKind.WallUpdateTrigger)
            trigger.lifespan = 100
        }
    }
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (resquest) {
        game.reset()
    } else {
        if (active_player_sprite == Lemon) {
            animation.runImageAnimation(
            Lemon,
            [img`
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . 1 1 1 5 5 5 5 1 . . . . 
                . . . 1 1 1 5 5 5 5 5 5 1 . . . 
                . . 1 1 1 5 5 5 4 2 5 5 5 1 . . 
                . . 1 1 5 5 5 4 5 5 1 5 5 1 . . 
                . . 1 1 5 5 4 4 1 1 4 4 5 1 . . 
                . . 1 1 5 4 1 4 f d 1 5 1 1 . . 
                . . 1 1 1 1 1 5 f d 1 1 1 . . . 
                . . . 1 1 1 1 1 4 1 1 1 . . . . 
                . . . . 1 1 1 1 1 1 1 . . . . . 
                . . . . 4 5 1 2 2 1 . . . . . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . 2 2 4 1 5 5 4 1 2 5 4 4 . . 
                . . . . 4 4 5 5 4 1 . 5 . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                `,img`
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . 1 1 1 5 5 5 5 1 . . . . 
                . . . 1 1 1 5 5 5 5 5 5 1 . . . 
                . . 1 1 1 5 5 5 4 2 5 5 5 1 . . 
                . . 1 1 5 5 5 4 5 5 1 5 5 1 . . 
                . . 1 1 5 5 4 4 1 1 4 4 5 1 . . 
                . . 1 1 5 4 1 4 f d 1 5 1 1 . . 
                . . 1 1 1 1 1 5 f d 1 1 1 . . . 
                . . . 1 1 1 1 1 4 1 1 1 . . . . 
                . . . . 1 1 1 1 1 1 1 . . . . . 
                . . . . 4 5 1 2 2 1 . . . . . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . 2 2 4 1 5 5 4 1 2 5 4 4 . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . . 1 1 . . 1 1 . . . . . 
                `,img`
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . 1 1 1 5 5 5 5 1 . . . . 
                . . . 1 1 1 5 5 5 5 5 5 1 . . . 
                . . 1 1 1 5 5 5 4 2 5 5 5 1 . . 
                . . 1 1 5 5 5 4 5 5 1 5 5 1 . . 
                . . 1 1 5 5 4 4 1 1 4 4 5 1 . . 
                . . 1 1 5 4 1 4 f d 1 5 1 1 . . 
                . . 1 1 1 1 1 5 f d 1 1 1 . . . 
                . . . 1 1 1 1 1 4 1 1 1 . . . . 
                . . . . 1 1 1 1 1 1 1 . . . . . 
                . . . . 4 5 1 2 2 1 . . . . . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . 2 2 4 1 5 5 4 1 2 5 4 4 . . 
                . . . . 4 4 5 5 4 1 . 5 . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                . . . . . . 1 1 1 . . . . . . . 
                `,img`
                . . . . . . 1 1 1 1 1 . . . . . 
                . . . . 1 1 1 5 5 5 5 1 . . . . 
                . . . 1 1 1 5 5 5 5 5 5 1 . . . 
                . . 1 1 1 5 5 5 4 2 5 5 5 1 . . 
                . . 1 1 5 5 5 4 5 5 1 5 5 1 . . 
                . . 1 1 5 5 4 4 1 1 4 4 5 1 . . 
                . . 1 1 5 4 1 4 f d 1 5 1 1 . . 
                . . 1 1 1 1 1 5 f d 1 1 1 . . . 
                . . . 1 1 1 1 1 4 1 1 1 . . . . 
                . . . . 1 1 1 1 1 1 1 . . . . . 
                . . . . 4 5 1 2 2 1 . . . . . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . 2 2 4 1 5 5 4 1 2 5 4 4 . . 
                . . . . 4 1 5 5 4 1 . 5 . . . . 
                . . . . . 1 1 1 1 1 . . . . . . 
                . . . . . 1 1 1 . 1 1 . . . . . 
                `],
            200,
            false
            )
        } else if (active_player_sprite == Tea) {
            animation.runImageAnimation(
            Tea,
            [img`
                . . . . . . a a a a a . . . . . 
                . . . . . a a a a a a a . . . . 
                . . . . a a e e e e e 8 a . . . 
                . . . a a e e e e a e 8 a . . . 
                . . a a e e e e e c b 9 a . . . 
                . . a e a a a e e c f 8 a . . . 
                . . a e a a e e e b f 9 a . . . 
                . . a a a a e a e 9 6 a a . . . 
                . . . a a b b c e 9 a a . . . . 
                . . . . a a b e c 9 6 a . . . . 
                . . . . . a a b a a 8 . . . . . 
                . . . . . 6 b b c c 8 . . . . . 
                . . . . . 6 b e c c 8 . . . . . 
                . . . . . . 9 9 9 9 9 9 . . . . 
                . . . . . . . . c c . . . . . . 
                . . . . . . . . c c . . . . . . 
                `,img`
                . . . . . . a a a a a . . . . . 
                . . . . . a a a a a a a . . . . 
                . . . . a a e e e e e 8 a . . . 
                . . . a a e e e e a e 8 a . . . 
                . . a a e e e e e c b 9 a . . . 
                . . a e a a a e e c f 8 a . . . 
                . . a e a a e e e b f 9 a . . . 
                . . a a a a e a e 9 6 a a . . . 
                . . . a a b b c e 9 a a . . . . 
                . . . . a a b e c 9 6 a . . . . 
                . . . . . a a b a a 8 . . . . . 
                . . . . . 6 b b c c 8 . . . . . 
                . . . . . 6 b e c c 8 . . . . . 
                . . . . . . 9 9 9 9 9 9 . . . . 
                . . . . . . . c c c c . . . . . 
                . . . . . . . c c . c c . . . . 
                `,img`
                . . . . . . a a a a a . . . . . 
                . . . . . a a a a a a a . . . . 
                . . . . a a e e e e e 8 a . . . 
                . . . a a e e e e a e 8 a . . . 
                . . a a e e e e e c b 9 a . . . 
                . . a e a a a e e c f 8 a . . . 
                . . a e a a e e e b f 9 a . . . 
                . . a a a a e a e 9 6 a a . . . 
                . . . a a b b c e 9 a a . . . . 
                . . . . a a b e c 9 6 a . . . . 
                . . . . . a a b a a 8 . . . . . 
                . . . . . 6 b b c c 8 . . . . . 
                . . . . . 6 b e c c 8 . . . . . 
                . . . . . . 9 9 9 9 9 9 . . . . 
                . . . . . . . . c c . . . . . . 
                . . . . . . . . c c . . . . . . 
                `,img`
                . . . . . . a a a a a . . . . . 
                . . . . . a a a a a a a . . . . 
                . . . . a a e e e e e 8 a . . . 
                . . . a a e e e e a e 8 a . . . 
                . . a a e e e e e c b 9 a . . . 
                . . a e a a a e e c f 8 a . . . 
                . . a e a a e e e b f 9 a . . . 
                . . a a a a e a e 9 6 a a . . . 
                . . . a a b b c e 9 a a . . . . 
                . . . . a a b e c 9 6 a . . . . 
                . . . . . a a b a a 8 . . . . . 
                . . . . . 6 b b c c 8 . . . . . 
                . . . . . 6 b e c c 8 . . . . . 
                . . . . . . 9 9 9 9 9 9 . . . . 
                . . . . . . . c c c c . . . . . 
                . . . . . . . c c . c c . . . . 
                `],
            200,
            false
            )
        }
    }
})
info.onLifeZero(function () {
    game.gameOver(false)
})
function initPlayers () {
    Lemon = sprites.create(img`
        . . . . . 1 1 1 1 1 1 . . . . . 
        . . . 1 1 1 5 5 5 5 1 1 1 . . . 
        . . 1 1 1 5 5 5 5 5 5 1 1 1 . . 
        . . 1 1 1 5 1 1 1 1 5 1 1 1 . . 
        . 1 1 1 5 1 4 2 2 4 1 5 1 1 1 . 
        . 1 1 5 5 4 1 1 1 1 4 5 5 1 1 . 
        . 1 5 5 4 4 f d d f 4 4 5 5 1 . 
        . 1 5 4 4 5 f d d f 5 4 4 5 1 . 
        . 1 1 1 1 4 1 1 1 1 4 1 1 1 1 . 
        . . . 1 1 2 4 4 4 4 2 1 1 . . . 
        . . 2 5 1 f 4 1 1 1 f 1 5 2 . . 
        . . 5 4 1 f 4 4 4 4 f 1 4 5 . . 
        . . 5 5 1 f 4 1 1 1 f 1 5 5 . . 
        . . . . 1 1 4 4 4 4 1 1 . . . . 
        . . . . . 1 1 1 1 1 1 . . . . . 
        . . . . . 1 1 . . 1 1 . . . . . 
        `, SpriteKind.Player)
    initPlayer(Lemon)
    tiles.placeOnRandomTile(Lemon, assets.tile`tile5`)
    tiles.replaceAllTiles(assets.tile`tile5`, assets.tile`tile0`)
    Tea = sprites.create(img`
        . . . . . . a a a a . . . . . . 
        . . . . a a a e e a a a . . . . 
        . . . . a e e 8 8 e e a . . . . 
        . . . a e e a 8 8 a e e a . . . 
        . . a e e c a 9 9 a c e e a . . 
        . a a e c c f 8 8 f c c e a a . 
        . a e e c b f 9 9 f b c e e a . 
        . . a e e 9 6 a a 6 9 e e a . . 
        . . a a a 9 a 6 6 a 9 a a a . . 
        . . . 8 a 9 a 6 6 a 9 a 8 . . . 
        . . a c 8 9 6 a a 6 9 8 c a . . 
        . . c d 8 8 b 9 9 b 8 8 d c . . 
        . . c c 8 b 8 9 9 8 b 8 c c . . 
        . . . . 9 c c c c c c 9 . . . . 
        . . . . . c c . . c c . . . . . 
        . . . . . c c . . c c . . . . . 
        `, SpriteKind.Player)
    initPlayer(Tea)
    tiles.placeOnRandomTile(Tea, assets.tile`tile6`)
    tiles.replaceAllTiles(assets.tile`tile6`, assets.tile`tile0`)
    setActivePlayer(0)
}
function Now () {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ......................................................................222222222222222222222.....................................................................
        ......................................................................222222222222222222222.....................................................................
        ......................................................................222222222222222222222.....................................................................
        ......................................................................222222222222222222222.....................................................................
        ......................................................................222222222222222222222.....................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    pause(1000)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        .....................................................................22222222222222222..........................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ................................................................22222.................22222.....................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................22222...........................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ...........................................................................................22222................................................................
        ......................................................................................22222.....................................................................
        ......................................................................................22222.....................................................................
        ......................................................................................22222.....................................................................
        ......................................................................................22222.....................................................................
        ......................................................................................22222.....................................................................
        .................................................................................22222..........................................................................
        .................................................................................22222..........................................................................
        .................................................................................22222..........................................................................
        .................................................................................22222..........................................................................
        .................................................................................22222..........................................................................
        ............................................................................22222...............................................................................
        ............................................................................22222...............................................................................
        ............................................................................22222...............................................................................
        ............................................................................22222...............................................................................
        ............................................................................22222...............................................................................
        .......................................................................22222....................................................................................
        .......................................................................22222....................................................................................
        .......................................................................22222....................................................................................
        .......................................................................22222....................................................................................
        .......................................................................22222....................................................................................
        ..................................................................22222.........................................................................................
        ..................................................................22222.........................................................................................
        ..................................................................22222.........................................................................................
        ..................................................................22222.........................................................................................
        ..................................................................22222.........................................................................................
        .............................................................22222..............................................................................................
        .............................................................22222..............................................................................................
        .............................................................22222..............................................................................................
        .............................................................22222..............................................................................................
        .............................................................22222..............................................................................................
        .............................................................22222222222222222222222222222222222................................................................
        .............................................................22222222222222222222222222222222222................................................................
        .............................................................22222222222222222222222222222222222................................................................
        .............................................................22222222222222222222222222222222222................................................................
        .............................................................22222222222222222222222222222222222................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    pause(1000)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..........................................................................2222222222............................................................................
        ..........................................................................2222222222............................................................................
        ..........................................................................2222222222............................................................................
        ..........................................................................2222222222............................................................................
        ..........................................................................2222222222............................................................................
        .....................................................................22222.....22222............................................................................
        .....................................................................22222.....22222............................................................................
        .....................................................................22222.....22222............................................................................
        .....................................................................22222.....22222............................................................................
        .....................................................................22222.....22222............................................................................
        ................................................................22222..........22222............................................................................
        ................................................................22222..........22222............................................................................
        ................................................................22222..........22222............................................................................
        ................................................................22222..........22222............................................................................
        ................................................................22222..........22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ...............................................................................22222............................................................................
        ................................................................22222222222222222222222222222222222.............................................................
        ................................................................22222222222222222222222222222222222.............................................................
        ................................................................22222222222222222222222222222222222.............................................................
        ................................................................22222222222222222222222222222222222.............................................................
        ................................................................22222222222222222222222222222222222.............................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    pause(1000)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    Start()
}
function Hi () {
    game.splash("Keyboard Controls")
    game.showLongText("Up button: Jump\\nRight Button: Move to Right\\nLeft Button: Move to Left\\nButton B: Change Character", DialogLayout.Full)
    game.splash("Hi player!", "Welcome to the adventure!")
    story.showPlayerChoices("Start Now", "How To Play")
    if (story.checkLastAnswer("Start Now")) {
        Now()
    } else if (story.checkLastAnswer("How To Play")) {
        HowToPlay()
    }
}
function initLevel (useSavedSpawnPoints: boolean) {
    button_presses = 0
    if (current_level < levels.length) {
        tiles.loadMap(levels[current_level])
    } else {
        game.over(true)
    }
    if (!(useSavedSpawnPoints)) {
        Lemon_spawn_location = tiles.getTilesByType(assets.tile`tile5`)[0]
        Tea_spawn_location = tiles.getTilesByType(assets.tile`tile6`)[0]
    } else {
        tiles.setTileAt(Lemon_spawn_location, assets.tile`tile5`)
        tiles.setTileAt(Tea_spawn_location, assets.tile`tile6`)
    }
    orange_wall_locations = tiles.getTilesByType(assets.tile`tile8`)
    orange_reverse_wall_locations = tiles.getTilesByType(assets.tile`tile10`)
    orange_wall_extension_height = 0
    for (let index = 0; index < 3; index++) {
        orange_wall_extension_height += 1
        updateWalls(orange_wall_extension_height, true)
    }
}
let Tea_spawn_location: tiles.Location = null
let Lemon_spawn_location: tiles.Location = null
let trigger: Sprite = null
let orange_wall_extension_height = 0
let orange_pressed = false
let orange_reverse_wall_locations: tiles.Location[] = []
let location: tiles.Location = null
let orange_wall_locations: tiles.Location[] = []
let levels: tiles.WorldMap[] = []
let current_level = 0
let button_presses = 0
let press_text = ""
let active_player_index = 0
let Tea: Sprite = null
let Lemon: Sprite = null
let active_player_sprite: Sprite = null
let resquest = false
resquest = true
Hi()
game.onUpdate(function () {
    if (!(orange_pressed) && (Tea.tileKindAt(TileDirection.Center, assets.tile`tile3`) || Lemon.tileKindAt(TileDirection.Center, assets.tile`tile3`))) {
        orange_pressed = true
        button_presses += 1
        scheduleWallUpdate()
    } else if (orange_pressed && !(Tea.tileKindAt(TileDirection.Center, assets.tile`tile3`) || Lemon.tileKindAt(TileDirection.Center, assets.tile`tile3`))) {
        orange_pressed = false
        scheduleWallUpdate()
    } else if (tiles.tileIs(tiles.locationOfSprite(Tea), assets.tile`tile2`) && tiles.tileIs(tiles.locationOfSprite(Lemon), assets.tile`tile2`)) {
        showScore()
        effects.confetti.startScreenEffect(500)
        tiles.destroySpritesOfKind(SpriteKind.Player)
        current_level += 1
        initLevel(false)
        initPlayers()
    } else if (Tea.bottom >= tiles.tilemapRows() * tiles.tileWidth() || Lemon.bottom >= tiles.tilemapRows() * tiles.tileWidth()) {
        game.splash("Ooops!", "Try again")
        info.changeCountdownBy(-10)
        info.changeLifeBy(-1)
        tiles.destroySpritesOfKind(SpriteKind.Player)
        initLevel(true)
        initPlayers()
    }
})
